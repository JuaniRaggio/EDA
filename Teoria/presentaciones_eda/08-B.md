# Estructura de Datos y Algoritmos

# ITBA     2025-Q2

Vamos a usar un arreglo ordenado como soporte para un índice\.

__Crear el índice con los siguientes servicios y chequear con Junit__

__Leer bien la especificaciòn sobre el insert__

# TP 3A- Ejer 1

__package__  eda;

__public__   __interface__   <span style="color:#00b050"> __IndexService__ </span>  \{

_// _  _elements_  _ serán los valores del índice\, los anteriores se descartan\._

_      	// lanza _  _excepction_  _ si _  _elements_  _ _  _is_  _ _  _null_  _ y deja los valores anteriores\._

<span style="color:#0070c0">void</span>  <span style="color:#0070c0"> </span>  <span style="color:#7030a0"> __initialize__ </span>  <span style="color:#0070c0">\(</span>  <span style="color:#0070c0">int</span>  <span style="color:#0070c0"> \[\] </span>  <span style="color:#0070c0">elements</span>  <span style="color:#0070c0">\);</span>

// busca una key en el índice\, O\(log2 N\)

<span style="color:#0070c0">boolean</span>  <span style="color:#0070c0"> </span>  <span style="color:#7030a0"> __search__ </span>  <span style="color:#0070c0">\(</span>  <span style="color:#0070c0">int</span>  <span style="color:#0070c0"> </span>  <span style="color:#0070c0">key</span>  <span style="color:#0070c0">\);</span>

// inserta el key en pos correcta\. Crece automáticamente de a chunks

<span style="color:#0070c0">void</span>  <span style="color:#0070c0"> </span>  <span style="color:#7030a0"> __insert__ </span>  <span style="color:#0070c0">\(</span>  <span style="color:#0070c0">int</span>  <span style="color:#0070c0"> </span>  <span style="color:#0070c0">key</span>  <span style="color:#0070c0">\);</span>

// borra el key si lo hay\, sino lo ignora\.

// decrece automáticamente de a chunks

__	__  <span style="color:#0070c0">void</span>  <span style="color:#0070c0"> </span>  <span style="color:#7030a0"> __delete__ </span>  <span style="color:#0070c0">\(</span>  <span style="color:#0070c0">int</span>  <span style="color:#0070c0"> </span>  <span style="color:#0070c0">key</span>  <span style="color:#0070c0">\);</span>

// devuelve la cantidad de apariciones de la clave especificada

<span style="color:#0070c0">int</span>  <span style="color:#0070c0"> </span>  <span style="color:#7030a0"> __occurrences__ </span>  <span style="color:#0070c0">\(</span>  <span style="color:#0070c0">int</span>  <span style="color:#0070c0"> </span>  <span style="color:#0070c0">key</span>  <span style="color:#0070c0">\);</span>

\}

![](img/08-B_0.png)

__Caso de Uso__ :

<span style="color:#00b050">IndexService</span>   myIndex= new  <span style="color:#0070c0"> __IndexWithDuplicates__ </span>  <span style="color:#0070c0"> __\(\)__ </span>  __;__

System\.out\.println \(myIndex\. <span style="color:#7030a0">occurrences</span> \( 10 \) \);   _// se obtiene _  _0_

myIndex\. <span style="color:#7030a0">delete</span> \( 10 \);   _// ignora_

System\.out\.println \(myIndex\. <span style="color:#7030a0">search</span> \( 10 \) \);   _// se obtiene false_

myIndex\. <span style="color:#7030a0">insert</span> \( 80 \);   _// almacena \[80\]_

myIndex\. <span style="color:#7030a0">insert</span> \( 20 \);   _// almacena \[20\, 80\]_

myIndex\. <span style="color:#7030a0">insert</span> \( 80 \);   _// almacena \[20\, 80\, 80\]_

try

\{

myIndex\. <span style="color:#7030a0">initialize</span> \( new int\[\] \{100\, 50\, 30\, 50\, 80\, 100\, 100\, 30\} \);

\}

catch\(Exception e\)

\{

\}

_// el índice posee \[30\, 30\, 50\, 50\, 80\, 100\, 100\, 100\]_

System\.out\.println\( myIndex\. <span style="color:#7030a0">search</span> \( 20 \)\);    _// se obtiene _  _false_

System\.out\.println\( myIndex\. <span style="color:#7030a0">search</span> \( 80 \)\);    _// se obtiene _  _true_

System\.out\.println \(myIndex\. <span style="color:#7030a0">occurrences</span> \( 50 \) \);   _// se obtiene _  _2_

myIndex\. <span style="color:#7030a0">delete</span> \( 50 \);

System\.out\.println \(myIndex\. <span style="color:#7030a0">occurrences</span> \( 50 \) \);   _// se obtiene _  _1_

…



* Detalles de implementación:
* declarar una constante con el tamaño de  __chunksize__  por el que irá creciendo el arreglo\.
* para crecer el arreglo usar  __Arrays\.copyOf__
* implementar un método privado  __getClosestPosition__  que:
  * <span style="color:#ff0000">si no existe la </span>  <span style="color:#ff0000">key</span>   __devuelve__  la posición donde insertarla
  * <span style="color:#00b050">si existe la </span>  <span style="color:#00b050">key</span>  <span style="color:#00b050"> </span>  __devuelve __ la posición de alguna de las repeticiones


# Quiero insertar el 25

Índice al inicio

| 2 | 8 | 10 | 15 | 17 | 21 | 28 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


| 30 | 34 | 42 | 50 |  |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


__GetClosestPosition__

| 2 | 8 | 10 | 15 | 17 | 21 | 28 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


| 30 | 34 | 42 | 50 |  |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


Muevo los elementos

| 2 | 8 | 10 | 15 | 17 | 21 | 28 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


| 30 | 34 | 42 | 50 | 50 |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


Resultado después de mover los elementos

| 2 | 8 | 10 | 15 | 17 | 21 | 28 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


| 28 | 30 | 34 | 42 | 50 |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


Inserto en la posición correcta

| 2 | 8 | 10 | 15 | 17 | 21 | 25 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


| 28 | 30 | 34 | 42 | 50 |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |


¿Qué complejidad temporal y espacial tienen los algoritmos propuestos?

